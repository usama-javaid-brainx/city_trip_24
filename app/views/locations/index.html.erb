<div class="p-4">
  <div class="d-flex flex-row justify-content-end">
    <%= link_to 'Add New Location', new_location_path, class: 'btn btn-outline-success mt-2' %>
  </div>
  <% if @locations.present? %>
    <h2 class="mt-4 mb-2 text-center text-uppercase">Locations</h2>
    <div class="table-container">
      <table class="table table-striped table-bordered">
        <thead>
        <tr>
          <th scope="col">Sr.No</th>
          <th scope="col">Category</th>
          <th scope="col">Sub Category</th>
          <th scope="col">Name</th>
          <th scope="col">Country</th>
          <th scope="col">Address</th>
          <th scope="col">City</th>
          <th scope="col">Street</th>
          <th scope="col">Number</th>
          <th scope="col">Postal Code</th>
          <% location_data_attributes.each do |key, value| %>
            <th scope="col"><%= value %></th>
          <% end %>
        </tr>
        </thead>
        <tbody>
        <% @locations.each_with_index do |location, index| %>
          <tr>
            <th scope="row"><%= index + 1 %></th>
            <td><%= location.sub_category.category.name %></td>
            <td><%= location.sub_category.name %></td>
            <td><%= location.name %></td>
            <td><%= country_name(location.country) %></td>
            <td><%= location.address %></td>
            <td><%= location.city %></td>
            <td><%= location.street %></td>
            <td><%= location.number %></td>
            <td><%= location.postal_code %></td>
            <% location_data_attributes.each do |key, value| %>
              <td><%= location.data[key] %></td>
            <% end %>
          </tr>
        <% end %>
        </tbody>
      </table>
    </div>
    <div class="d-flex justify-content-end mt-4">
      <%== pagy_bootstrap_nav(@pagy) %>
    </div>
  <% else %>
    <h2 class="mt-4 mb-2 text-center text-uppercase">No location right now..</h2>
  <% end %>
</div>